<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var vizhener = {
        en : "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),
        square : [],
        genMatrix : function () {
            var l = this["en"], square = [];
            for (var i = 0; i < l.length; i++) {
                this.square[i] = l.slice(i).concat(l.slice(0, i));
            }
        },
        encryption : function (text, key) {
            if (text.length !== key.length) return false;
            this.genMatrix();
            console.log(this.square);
            var s = "";
            for (var i = 0; i < text.length; i++) {
                var row = this["en"].indexOf(text[i]);
                var coll = this["en"].indexOf(key[i]);
                s += this.square[row][coll];
            }
            return s;
        },
        decryption : function (key, cipher) {
            if (cipher.length !== key.length) return false;
            this.genMatrix();
            var s = "";
            for (var i = 0; i < cipher.length; i++) {
                var row = this["en"].indexOf(key[i])
                var coll = this.square[row].indexOf(cipher[i]);
                s += this["en"][coll];
            }
            return s;
        }
    };


    document.write (vizhener.encryption("ATTACKATDAWN", "LEMONLEMONLE") + "<br>"); //(en) шифруем
    document.write (vizhener.decryption("LEMONLEMONLE", "LXFOPVEFRNHR") + "<br>"); //(en) расшифровываем

</script>
</body>
</html>